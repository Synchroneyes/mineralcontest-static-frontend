import{a as T,V as D}from"./VRow-BUwj38H3.js";import{V as w,a as B,b as U,e as M,d as A}from"./VCard-CITTaAN6.js";import{q as j,bg as J,a$ as Q,E as O,G as X,bh as Y,r as y,at as Z,al as R,W as ee,S as H,h as F,T as L,e as t,aH as ae,aU as te,av as ne,an as le,y as oe,C as re,aa as se,R as ie,ao as ue,aA as ce,K as de,H as fe,P as W,a8 as me,d as $,o as q,b as v,i as V,F as C,k as P,c as h,w as l,f as pe,j as p,t as x,l as N,a5 as ve,_ as ge,bi as _e,bf as be,V as he,g as ye}from"./index-7Z3UxC3H.js";import{a as Ve,V as ke}from"./VContainer-DpEchl57.js";const Ee=j({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...J({origin:"center center",scrollStrategy:"block",transition:{component:Q},zIndex:2400})},"VDialog"),Ce=O()({name:"VDialog",props:Ee(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,r){let{emit:n,slots:s}=r;const u=X(e,"modelValue"),{scopeId:_}=Y(),i=y();function b(a){var f,g;const c=a.relatedTarget,o=a.target;if(c!==o&&((f=i.value)!=null&&f.contentEl)&&((g=i.value)!=null&&g.globalTop)&&![document,i.value.contentEl].includes(o)&&!i.value.contentEl.contains(o)){const m=ne(i.value.contentEl);if(!m.length)return;const E=m[0],K=m[m.length-1];c===E?K.focus():E.focus()}}Z&&R(()=>u.value&&e.retainFocus,a=>{a?document.addEventListener("focusin",b):document.removeEventListener("focusin",b)},{immediate:!0});function k(){var a;n("afterEnter"),(a=i.value)!=null&&a.contentEl&&!i.value.contentEl.contains(document.activeElement)&&i.value.contentEl.focus({preventScroll:!0})}function d(){n("afterLeave")}return R(u,async a=>{var c;a||(await ee(),(c=i.value.activatorEl)==null||c.focus({preventScroll:!0}))}),H(()=>{const a=F.filterProps(e),c=L({"aria-haspopup":"dialog"},e.activatorProps),o=L({tabindex:-1},e.contentProps);return t(F,L({ref:i,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},a,{modelValue:u.value,"onUpdate:modelValue":f=>u.value=f,"aria-modal":"true",activatorProps:c,contentProps:o,role:"dialog",onAfterEnter:k,onAfterLeave:d},_),{activator:s.activator,default:function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];return t(ae,{root:"VDialog"},{default:()=>{var E;return[(E=s.default)==null?void 0:E.call(s,...g)]}})}})}),te({},i)}}),xe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function Le(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t("div",{class:["v-skeleton-loader__bone",`v-skeleton-loader__${e}`]},[r])}function z(e){const[r,n]=e.split("@");return Array.from({length:n}).map(()=>S(r))}function S(e){let r=[];if(!e)return r;const n=xe[e];if(e!==n){if(e.includes(","))return I(e);if(e.includes("@"))return z(e);n.includes(",")?r=I(n):n.includes("@")?r=z(n):n&&r.push(S(n))}return[Le(e,r)]}function I(e){return e.replace(/\s/g,"").split(",").map(S)}const Pe=j({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...le(),...oe(),...re()},"VSkeletonLoader"),G=O()({name:"VSkeletonLoader",props:Pe(),setup(e,r){let{slots:n}=r;const{backgroundColorClasses:s,backgroundColorStyles:u}=se(ie(e,"color")),{dimensionStyles:_}=ue(e),{elevationClasses:i}=ce(e),{themeClasses:b}=de(e),{t:k}=fe(),d=W(()=>S(me(e.type).join(",")));return H(()=>{var o;const a=!n.default||e.loading,c=e.boilerplate||!a?{}:{ariaLive:"polite",ariaLabel:k(e.loadingText),role:"alert"};return t("div",L({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":e.boilerplate},b.value,s.value,i.value],style:[u.value,a?_.value:{}]},c),[a?d.value:(o=n.default)==null?void 0:o.call(n)])}),{}}}),$e=$({__name:"MapsComponent",props:{maps:{type:Array,default:()=>[]}},setup(e){const r=e,n=W(()=>{const d=[...r.maps].sort((o,f)=>o.map_name.localeCompare(f.map_name)),a=3,c=[];for(let o=0;o<d.length;o+=a)c.push(d.slice(o,o+a));return c}),s=y(!1),u=y(""),_=d=>{u.value=d,s.value=!0},i=y({}),b=(d,a)=>{i.value[`${d}-${a}`]=!1},k=(d,a)=>{i.value[`${d}-${a}`]=!1,console.error(`Image failed to load at row ${d}, col ${a}`)};return q(()=>{n.value.forEach((d,a)=>{d.forEach((c,o)=>{i.value[`${a}-${o}`]=!0})})}),(d,a)=>(v(),V(C,null,[(v(!0),V(C,null,P(n.value,(c,o)=>(v(),h(D,{key:o},{default:l(()=>[(v(!0),V(C,null,P(c,(f,g)=>(v(),h(T,{key:g,cols:"4"},{default:l(()=>[t(w,null,{default:l(()=>[i.value[`${o}-${g}`]?(v(),h(G,{key:0,type:"image",height:"200px"})):(v(),h(pe,{key:1,src:f.map_thumbnail,height:"200px",onLoad:m=>b(o,g),onError:m=>k(o,g)},null,8,["src","onLoad","onError"])),t(B,null,{default:l(()=>[p(x(f.map_name),1)]),_:2},1024),t(U,{class:"hover-pointer",onClick:m=>_(f.map_description)},{default:l(()=>[p(x(f.map_description),1)]),_:2},1032,["onClick"]),t(M,null,{default:l(()=>[p("Taille: "+x(f.map_size_display),1)]),_:2},1024),t(A,{class:"justify-center"},{default:l(()=>[t(N,{href:f.map_url,target:"_blank",color:"primary"},{default:l(()=>[t(ve,null,{default:l(()=>a[2]||(a[2]=[p("mdi-download")])),_:1}),a[3]||(a[3]=p("Télécharger "))]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024))),128)),t(Ce,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=c=>s.value=c),"max-width":"600"},{default:l(()=>[t(w,null,{default:l(()=>[t(B,null,{default:l(()=>a[4]||(a[4]=[p("Description de la carte")])),_:1}),t(M,null,{default:l(()=>[p(x(u.value),1)]),_:1}),t(A,null,{default:l(()=>[t(N,{color:"primary",onClick:a[0]||(a[0]=c=>s.value=!1)},{default:l(()=>a[5]||(a[5]=[p("Fermer")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Se=ge($e,[["__scopeId","data-v-7fa2b0d2"]]),we={key:0},Be=$({__name:"MapsLoading",props:{enabled:{type:Boolean,default:!1}},setup(e){return(r,n)=>e.enabled?(v(),V("div",we,[(v(),V(C,null,P(4,s=>t(D,{key:s},{default:l(()=>[(v(),V(C,null,P(3,u=>t(T,{key:u,cols:"4"},{default:l(()=>[t(G,{type:"image, list-item-two-line",height:"300",loading:!0})]),_:2},1024)),64))]),_:2},1024)),64))])):_e("",!0)}}),Me=$({__name:"MapsList",setup(e){const r=y(!0),n=y([]);return q(async()=>{try{const s=await Ve.getMapsList();n.value=s.data,console.log(be(n.value))}catch(s){console.error("Failed to fetch maps:",s)}finally{r.value=!1}console.log(n.value)}),(s,u)=>{const _=Be,i=Se;return v(),h(ke,null,{default:l(()=>[t(he,null,{default:l(()=>[t(D,null,{default:l(()=>[t(T,{cols:"12"},{default:l(()=>[t(w,null,{default:l(()=>[t(B,null,{default:l(()=>u[0]||(u[0]=[p("Maps")])),_:1}),t(U,{class:"display-2"},{default:l(()=>u[1]||(u[1]=[p("Instructions")])),_:1}),t(M,{class:"display-2"},{default:l(()=>u[2]||(u[2]=[p("Pour installer une carte, il suffit de télécharger la carte souhaité. Une fois effectué, il faut extraire l'archive dans le dossier plugins/MineralContest/worlds/ de votre serveur. Vous devriez alors voir un nouveau dossier, ayant comme prefix "),ye("b",null,"mc_",-1),p(" et en redémarrant votre serveur, vous selectionner votre carte dans le menu de vote! ")])),_:1})]),_:1})]),_:1})]),_:1}),t(_,{enabled:r.value},null,8,["enabled"]),t(i,{maps:n.value},null,8,["maps"])]),_:1})]),_:1})}}}),Fe=$({__name:"maps",setup(e){return(r,n)=>{const s=Me;return v(),h(s)}}});export{Fe as default};
